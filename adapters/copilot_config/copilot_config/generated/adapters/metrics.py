# SPDX-License-Identifier: MIT
# Copyright (c) 2025 Copilot-for-Consensus contributors

"""Generated typed configuration for metrics adapter.

DO NOT EDIT THIS FILE MANUALLY.
This file is auto-generated from JSON schemas by scripts/generate_typed_configs.py.
"""

from dataclasses import dataclass
from typing import Any, Literal


@dataclass
class DriverConfig_Metrics_AzureMonitor:
    """Configuration for metrics adapter using azure_monitor driver."""

    connection_string: str
    # Azure Monitor connection string (e.g., InstrumentationKey=... or Connection string)
    export_interval_millis: int = 60000
    # Export interval in milliseconds
    namespace: str = "copilot"
    # Namespace prefix for all metrics
    raise_on_error: bool = False
    # Whether to raise exceptions on metric errors


@dataclass
class DriverConfig_Metrics_Noop:
    """Configuration for metrics adapter using noop driver."""

    pass


@dataclass
class DriverConfig_Metrics_Prometheus:
    """Configuration for metrics adapter using prometheus driver."""

    namespace: str = "copilot"
    # Namespace prefix for all metrics
    raise_on_error: bool = False
    # Whether to raise exceptions on metric errors
    registry: dict[str, Any] | None = None
    # Optional Prometheus registry instance


@dataclass
class DriverConfig_Metrics_Pushgateway:
    """Configuration for metrics adapter using pushgateway driver."""

    gateway: str
    # Pushgateway address (e.g., pushgateway:9091 or http://pushgateway:9091)
    grouping_key: dict[str, Any] | None = None
    # Optional grouping key dictionary for metric grouping
    job: str = "copilot"
    # Prometheus job name for this service (can be set programmatically)
    namespace: str = "copilot"
    # Metric namespace prefix
    raise_on_error: bool = False
    # Whether to raise on metric collection errors


@dataclass
class AdapterConfig_Metrics:
    """Configuration for metrics adapter."""

    metrics_type: Literal["azure_monitor", "noop", "prometheus", "pushgateway"]
    driver: (
        DriverConfig_Metrics_AzureMonitor
        | DriverConfig_Metrics_Noop
        | DriverConfig_Metrics_Prometheus
        | DriverConfig_Metrics_Pushgateway
    )
