# SPDX-License-Identifier: MIT
# Copyright (c) 2025 Copilot-for-Consensus contributors

"""Generated typed configuration for metrics adapter.

DO NOT EDIT THIS FILE MANUALLY.
This file is auto-generated from JSON schemas by scripts/generate_typed_configs.py.
"""

from dataclasses import dataclass
from typing import Any, Dict, List, Literal, Optional, Union


@dataclass
class DriverConfig_Metrics_AzureMonitor:
    """Configuration for metrics adapter using azure_monitor driver."""
    azure_monitor_instrumentation_key: Optional[str] = None
    """Application Insights instrumentation key"""
    connection_string: Optional[str] = None
    # Azure Monitor connection string (e.g., InstrumentationKey=... or Connection string)
    export_interval_millis: Optional[int] = 60000
    # Export interval in milliseconds
    namespace: Optional[str] = 'copilot'
    # Namespace prefix for all metrics
    raise_on_error: Optional[bool] = False
    # Whether to raise exceptions on metric errors


@dataclass
class DriverConfig_Metrics_Noop:
    """Configuration for metrics adapter using noop driver."""
    pass


@dataclass
class DriverConfig_Metrics_Prometheus:
    """Configuration for metrics adapter using prometheus driver."""
    namespace: Optional[str] = 'copilot'
    """Namespace prefix for all metrics"""
    raise_on_error: Optional[bool] = False
    # Whether to raise exceptions on metric errors
    registry: Optional[Dict[str, Any]] = None
    # Optional Prometheus registry instance


@dataclass
class DriverConfig_Metrics_Pushgateway:
    """Configuration for metrics adapter using pushgateway driver."""
    gateway: str
    """Pushgateway address (e.g., pushgateway:9091 or http://pushgateway:9091)"""
    grouping_key: Optional[Dict[str, Any]] = None
    # Optional grouping key dictionary for metric grouping
    job: Optional[str] = None
    # Prometheus job name for this service (can be set programmatically)
    namespace: Optional[str] = 'copilot'
    # Metric namespace prefix
    raise_on_error: Optional[bool] = False
    # Whether to raise on metric collection errors


@dataclass
class AdapterConfig_Metrics:
    """Configuration for metrics adapter."""
    metrics_type: Literal["azure_monitor", "noop", "prometheus", "pushgateway"]
    driver: Union[
        DriverConfig_Metrics_AzureMonitor,
        DriverConfig_Metrics_Noop,
        DriverConfig_Metrics_Prometheus,
        DriverConfig_Metrics_Pushgateway
    ]
