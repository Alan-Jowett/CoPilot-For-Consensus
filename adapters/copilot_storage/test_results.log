============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-9.0.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/CoPilot-For-Consensus/CoPilot-For-Consensus/adapters/copilot_storage
configfile: pytest.ini
plugins: cov-7.0.0
collecting ... collected 102 items

tests/test_document_store.py::TestDocumentStoreFactory::test_create_inmemory_store PASSED [  0%]
tests/test_document_store.py::TestDocumentStoreFactory::test_create_inmemory_store_without_validation PASSED [  1%]
tests/test_document_store.py::TestDocumentStoreFactory::test_create_mongodb_store PASSED [  2%]
tests/test_document_store.py::TestDocumentStoreFactory::test_create_mongodb_store_without_validation PASSED [  3%]
tests/test_document_store.py::TestDocumentStoreFactory::test_create_unknown_store_type PASSED [  4%]
tests/test_document_store.py::TestDocumentStoreFactory::test_create_azurecosmos_store PASSED [  5%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_connect PASSED [  6%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_disconnect PASSED [  7%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_insert_document PASSED [  8%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_insert_document_with_id PASSED [  9%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_get_document PASSED [ 10%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_get_nonexistent_document PASSED [ 11%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_query_documents PASSED [ 12%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_query_documents_multiple_filters PASSED [ 13%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_query_documents_with_limit PASSED [ 14%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_update_document PASSED [ 15%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_update_nonexistent_document PASSED [ 16%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_delete_document PASSED [ 17%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_delete_nonexistent_document PASSED [ 18%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_clear_collection PASSED [ 19%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_clear_all PASSED [ 20%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_multiple_collections PASSED [ 21%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_document_isolation PASSED [ 22%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_nested_document_isolation PASSED [ 23%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_deep_nested_document_isolation PASSED [ 24%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_simple_match PASSED [ 25%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_match_exists PASSED [ 26%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_lookup PASSED [ 27%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_lookup_and_match PASSED [ 28%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_with_limit PASSED [ 29%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_complex_pipeline PASSED [ 30%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_nonexistent_collection PASSED [ 31%]
tests/test_document_store.py::TestInMemoryDocumentStore::test_aggregate_documents_lookup_nonexistent_foreign_collection PASSED [ 32%]
tests/test_document_store.py::TestMongoDocumentStore::test_initialization PASSED [ 33%]
tests/test_document_store.py::TestMongoDocumentStore::test_default_values PASSED [ 34%]
tests/test_document_store.py::TestMongoDocumentStore::test_connect_pymongo_not_installed PASSED [ 35%]
tests/test_document_store.py::TestMongoDocumentStore::test_connect_connection_failure PASSED [ 36%]
tests/test_document_store.py::TestMongoDocumentStore::test_connect_unexpected_error PASSED [ 37%]
tests/test_document_store.py::TestMongoDocumentStore::test_insert_document_duplicate_key_error PASSED [ 38%]
tests/test_azure_cosmos_document_store.py::TestDocumentStoreFactoryAzureCosmos::test_create_azurecosmos_store PASSED [ 39%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_initialization PASSED [ 40%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_default_values PASSED [ 41%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_connect_azure_cosmos_not_installed PASSED [ 42%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_connect_missing_endpoint PASSED [ 43%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_connect_missing_key_uses_managed_identity PASSED [ 44%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_connect_success PASSED [ 45%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_connect_database_creation_fails PASSED [ 46%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_disconnect PASSED [ 47%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_not_connected PASSED [ 48%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_success PASSED [ 49%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_with_existing_id PASSED [ 50%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_uses__id_as_native_id_when_id_missing PASSED [ 50%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_resource_exists PASSED [ 51%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_insert_document_throttled PASSED [ 52%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_get_document_not_connected PASSED [ 53%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_get_document_success PASSED [ 54%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_get_document_not_found PASSED [ 55%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_query_documents_not_connected PASSED [ 56%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_query_documents_success PASSED [ 57%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_query_documents_with_multiple_filters PASSED [ 58%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_query_documents_invalid_limit PASSED [ 59%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_update_document_not_connected PASSED [ 60%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_update_document_success PASSED [ 61%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_update_document_not_found PASSED [ 62%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_delete_document_not_connected PASSED [ 63%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_delete_document_success PASSED [ 64%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_delete_document_not_found PASSED [ 65%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_not_connected PASSED [ 66%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_simple_match PASSED [ 67%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_with_exists PASSED [ 68%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_with_limit PASSED [ 69%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_with_lookup PASSED [ 70%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_lookup_with_match PASSED [ 71%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_invalid_limit PASSED [ 72%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_match_with_nested_fields PASSED [ 73%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_lookup_validation_missing_fields PASSED [ 74%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_lookup_validation_empty_strings PASSED [ 75%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_lookup_validation_invalid_field_names PASSED [ 76%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStore::test_aggregate_documents_lookup_foreign_collection_query_failure PASSED [ 77%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_valid_simple PASSED [ 78%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_valid_nested PASSED [ 79%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_invalid_empty PASSED [ 80%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_invalid_special_chars PASSED [ 81%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_invalid_empty_components PASSED [ 82%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_field_name_sql_injection_attempts PASSED [ 83%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_document_id_valid PASSED [ 84%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_document_id_invalid_chars PASSED [ 85%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_document_id_invalid_empty PASSED [ 86%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreValidation::test_is_valid_document_id_control_chars PASSED [ 87%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_in_operator PASSED [ 88%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_in_operator_empty_list PASSED [ 89%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_in_operator_single_value PASSED [ 90%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_eq_operator PASSED [ 91%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_mixed_operators PASSED [ 92%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_aggregate_documents_with_in_operator PASSED [ 93%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_in_operator_non_list_value PASSED [ 94%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_non_operator_keys PASSED [ 95%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_query_documents_with_unsupported_operator PASSED [ 96%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_aggregate_documents_with_in_operator_empty_list PASSED [ 97%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_aggregate_documents_with_in_operator_non_list_value PASSED [ 98%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_aggregate_documents_with_non_operator_keys PASSED [ 99%]
tests/test_azure_cosmos_document_store.py::TestAzureCosmosDocumentStoreQueryOperators::test_aggregate_documents_with_unsupported_operator PASSED [100%]

=============================== warnings summary ===============================
../../../../../.local/lib/python3.12/site-packages/_pytest/config/__init__.py:1428
  /home/runner/.local/lib/python3.12/site-packages/_pytest/config/__init__.py:1428: PytestConfigWarning: Unknown config option: timeout
  
    self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 102 passed, 1 warning in 0.48s ========================
