{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "projectName": {
      "value": "copilot"
    },
    "environment": {
      "value": "dev"
    },
    "location": {
      "value": "westus"
    },
    "containerImageTag": {
      "value": "azure"
    },
    "azureOpenAIEndpoint": {
      "value": "https://REPLACE-WITH-CORE-DEPLOYMENT-OUTPUT.openai.azure.com/"
    },
    "coreAoaiAccountName": {
      "value": "REPLACE-WITH-CORE-DEPLOYMENT-OUTPUT"
    },
    "azureOpenAIGptDeploymentName": {
      "value": "gpt-4o-deployment"
    },
    "azureOpenAIEmbeddingDeploymentName": {
      "value": "embedding-deployment"
    },
    "coreKeyVaultResourceId": {
      "value": "/subscriptions/SUBSCRIPTION-ID/resourceGroups/rg-core-ai/providers/Microsoft.KeyVault/vaults/CORE-KV-NAME"
    },
    "coreKeyVaultName": {
      "value": "REPLACE-WITH-CORE-DEPLOYMENT-OUTPUT"
    },
    "coreKvSecretUriAoaiKey": {
      "value": "https://CORE-KV-NAME.vault.azure.net/secrets/azure-openai-api-key/VERSION"
    },
    "cosmosDbAutoscaleMinRu": {
      "value": 400
    },
    "cosmosDbAutoscaleMaxRu": {
      "value": 1000
    },
    "serviceBusSku": {
      "value": "Standard"
    },
    "enableMultiRegionCosmos": {
      "value": false
    },
    "enableRbacAuthorization": {
      "value": false
    },
    "enablePrivateAccess": {
      "value": false
    },
    "deployContainerApps": {
      "value": true
    },
    "vnetAddressSpace": {
      "value": "10.0.0.0/16"
    },
    "subnetAddressPrefix": {
      "value": "10.0.0.0/23"
    },
    "gatewaySubnetPrefix": {
      "value": "10.0.3.0/24"
    },
    "deployGatewayVm": {
      "value": true
    },
    "gatewayVmSize": {
      "value": "Standard_B1ls"
    },
    "gatewayVmAdminUsername": {
      "value": "azureuser"
    },
    "gatewayVmSshPublicKey": {
      "value": "ssh-rsa REPLACE-WITH-YOUR-SSH-PUBLIC-KEY"
    },
    "gatewayVmEnablePublicIp": {
      "value": true
    },
    "gatewayVmSshAllowedSourceAddresses": {
      "value": ["*"],
      "_comment": "SECURITY: Restrict SSH access in production to specific IP ranges, e.g., ['YOUR_IP/32', '10.0.0.0/8']"
    },
    "deployEntraApp": {
      "value": false
    },
    "enableBlobLogArchiving": {
      "value": true
    },
    "tags": {
      "value": {
        "environment": "dev",
        "project": "copilot-for-consensus",
        "createdBy": "bicep",
        "scope": "env"
      }
    }
  }
}
