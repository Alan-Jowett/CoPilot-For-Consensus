{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$comment": "SPDX-License-Identifier: MIT\nCopyright (c) 2025 Copilot-for-Consensus contributors",
    "title": "Azure Key Vault secret provider driver settings",
    "type": "object",
    "x-required_one_of": [["vault_url", "vault_name"]],
    "properties": {
        "vault_url": {
            "type": "string",
            "source": "env",
            "env_var": "AZURE_KEY_VAULT_URI",
            "required": false,
            "minLength": 1,
            "description": "Azure Key Vault URL (e.g., https://my-vault.vault.azure.net/)"
        },
        "vault_name": {
            "type": "string",
            "source": "env",
            "env_var": "AZURE_KEY_VAULT_NAME",
            "required": false,
            "minLength": 1,
            "description": "Azure Key Vault name (optional when vault_url is provided)"
        },
        "tenant_id": {
            "type": "string",
            "source": "env",
            "env_var": "AZURE_TENANT_ID",
            "required": false,
            "minLength": 1,
            "description": "Azure tenant ID (optional; managed identity may be used)"
        },
        "client_id": {
            "type": "string",
            "source": "env",
            "env_var": "AZURE_CLIENT_ID",
            "required": false,
            "minLength": 1,
            "description": "Azure client ID (optional; managed identity may be used)"
        },
        "client_secret": {
            "type": "string",
            "source": "env",
            "env_var": "AZURE_CLIENT_SECRET",
            "required": false,
            "minLength": 1,
            "description": "Azure client secret (optional; managed identity may be used)"
        }
    },
    "required": []
}
