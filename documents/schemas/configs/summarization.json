{
  "service_name": "summarization",
  "metadata": {
    "description": "Summarization service configuration schema",
    "version": "1.0.0"
  },
  "fields": {
    "message_bus_type": {
      "type": "string",
      "source": "env",
      "env_var": "MESSAGE_BUS_TYPE",
      "default": "rabbitmq",
      "description": "Message bus type"
    },
    "message_bus_host": {
      "type": "string",
      "source": "env",
      "env_var": "MESSAGE_BUS_HOST",
      "default": "messagebus",
      "description": "Message bus hostname"
    },
    "message_bus_port": {
      "type": "int",
      "source": "env",
      "env_var": "MESSAGE_BUS_PORT",
      "default": 5672,
      "description": "Message bus port"
    },
    "message_bus_user": {
      "type": "string",
      "source": "env",
      "env_var": "MESSAGE_BUS_USER",
      "default": "guest",
      "description": "Message bus username"
    },
    "message_bus_password": {
      "type": "string",
      "source": "env",
      "env_var": "MESSAGE_BUS_PASSWORD",
      "default": "guest",
      "description": "Message bus password"
    },
    "doc_store_type": {
      "type": "string",
      "source": "env",
      "env_var": "DOCUMENT_STORE_TYPE",
      "default": "mongodb",
      "description": "Document store type"
    },
    "doc_store_host": {
      "type": "string",
      "source": "env",
      "env_var": "DOCUMENT_DATABASE_HOST",
      "default": "documentdb",
      "description": "Document store hostname"
    },
    "doc_store_port": {
      "type": "int",
      "source": "env",
      "env_var": "DOCUMENT_DATABASE_PORT",
      "default": 27017,
      "description": "Document store port"
    },
    "doc_store_name": {
      "type": "string",
      "source": "env",
      "env_var": "DOCUMENT_DATABASE_NAME",
      "default": "copilot",
      "description": "Document store database name"
    },
    "doc_store_user": {
      "type": "string",
      "source": "env",
      "env_var": "DOCUMENT_DATABASE_USER",
      "default": "",
      "description": "Document store username"
    },
    "doc_store_password": {
      "type": "string",
      "source": "env",
      "env_var": "DOCUMENT_DATABASE_PASSWORD",
      "default": "",
      "description": "Document store password"
    },
    "vector_store_type": {
      "type": "string",
      "source": "env",
      "env_var": "VECTOR_STORE_TYPE",
      "default": "faiss",
      "description": "Vector store type"
    },
    "vector_store_host": {
      "type": "string",
      "source": "env",
      "env_var": "VECTOR_DB_HOST",
      "default": "vectorstore",
      "description": "Vector store hostname"
    },
    "vector_store_port": {
      "type": "int",
      "source": "env",
      "env_var": "VECTOR_DB_PORT",
      "default": 6333,
      "description": "Vector store port"
    },
    "vector_store_collection": {
      "type": "string",
      "source": "env",
      "env_var": "VECTOR_DB_COLLECTION",
      "default": "message_embeddings",
      "description": "Vector store collection name"
    },
    "embedding_dimension": {
      "type": "int",
      "source": "env",
      "env_var": "EMBEDDING_DIMENSION",
      "default": 384,
      "description": "Embedding vector dimension size"
    },
    "vector_store_distance": {
      "type": "string",
      "source": "env",
      "env_var": "VECTOR_STORE_DISTANCE",
      "default": "cosine",
      "description": "Distance metric for vector store (cosine, euclidean, dot)"
    },
    "vector_store_batch_size": {
      "type": "int",
      "source": "env",
      "env_var": "VECTOR_STORE_BATCH_SIZE",
      "default": 100,
      "description": "Batch size for vector store operations"
    },
    "llm_backend": {
      "type": "string",
      "source": "env",
      "env_var": "LLM_BACKEND",
      "default": "local",
      "description": "LLM backend (local for Ollama, openai, azure, or mock)"
    },
    "llm_model": {
      "type": "string",
      "source": "env",
      "env_var": "LLM_MODEL",
      "default": "mistral",
      "description": "LLM model name"
    },
    "local_llm_endpoint": {
      "type": "string",
      "source": "env",
      "env_var": "OLLAMA_HOST",
      "default": "http://ollama:11434",
      "description": "Local LLM endpoint URL (for local/ollama backend)"
    },
    "llm_temperature": {
      "type": "float",
      "source": "env",
      "env_var": "LLM_TEMPERATURE",
      "default": 0.2,
      "description": "LLM temperature"
    },
    "llm_max_tokens": {
      "type": "int",
      "source": "env",
      "env_var": "LLM_MAX_TOKENS",
      "default": 2048,
      "description": "LLM max tokens"
    },
    "top_k": {
      "type": "int",
      "source": "env",
      "env_var": "TOP_K",
      "default": 12,
      "description": "Number of top chunks to retrieve"
    },
    "citation_count": {
      "type": "int",
      "source": "env",
      "env_var": "CITATION_COUNT",
      "default": 12,
      "description": "Number of citations to include in summaries"
    },
    "max_retries": {
      "type": "int",
      "source": "env",
      "env_var": "RETRY_MAX_ATTEMPTS",
      "default": 3,
      "description": "Maximum retry attempts"
    },
    "retry_delay": {
      "type": "int",
      "source": "env",
      "env_var": "RETRY_DELAY_SECONDS",
      "default": 5,
      "description": "Retry delay in seconds"
    },
    "metrics_backend": {
      "type": "string",
      "source": "env",
      "env_var": "METRICS_BACKEND",
      "default": "noop",
      "description": "Metrics backend"
    },
    "error_reporter_type": {
      "type": "string",
      "source": "env",
      "env_var": "ERROR_REPORTER_TYPE",
      "default": "console",
      "description": "Error reporter type"
    },
    "http_port": {
      "type": "int",
      "source": "env",
      "env_var": "HTTP_PORT",
      "default": 8000,
      "description": "HTTP server port"
    }
  }
}
