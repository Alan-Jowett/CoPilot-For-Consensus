# SPDX-License-Identifier: MIT
# Copyright (c) 2025 Copilot-for-Consensus contributors

# Dependabot configuration for tracking and updating dependencies
# Documentation: https://docs.github.com/en/code-security/dependabot/dependabot-version-updates/configuration-options-for-the-dependabot.yml-file
#
# THIS FILE IS AUTO-GENERATED - DO NOT EDIT MANUALLY
# Run `python scripts/update-dependabot.py` to regenerate

version: 2
updates:
  # Monitor Python dependencies - Core Services
  # Split into multiple entries to prevent Dependabot timeout
  # See: https://github.com/orgs/community/discussions/179358
  - package-ecosystem: "pip"
    directories:
      - "/auth"
      - "/chunking"
      - "/embedding"
      - "/ingestion"
      - "/orchestrator"
      - "/parsing"
      - "/reporting"
      - "/scripts"
      - "/summarization"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    labels:
      - "dependencies"
      - "python"
      - "services"
    groups:
      pip-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"

  # Monitor Python dependencies - Adapters Group 1
  - package-ecosystem: "pip"
    directories:
      - "/adapters/copilot_archive_fetcher"
      - "/adapters/copilot_archive_store"
      - "/adapters/copilot_auth"
      - "/adapters/copilot_chunking"
      - "/adapters/copilot_config"
      - "/adapters/copilot_consensus"
      - "/adapters/copilot_draft_diff"
      - "/adapters/copilot_embedding"
      - "/adapters/copilot_events"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    labels:
      - "dependencies"
      - "python"
      - "adapters"
    groups:
      pip-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"

  # Monitor Python dependencies - Adapters Group 2
  - package-ecosystem: "pip"
    directories:
      - "/adapters/copilot_logging"
      - "/adapters/copilot_metrics"
      - "/adapters/copilot_reporting"
      - "/adapters/copilot_schema_validation"
      - "/adapters/copilot_secrets"
      - "/adapters/copilot_startup"
      - "/adapters/copilot_storage"
      - "/adapters/copilot_summarization"
      - "/adapters/copilot_vectorstore"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    labels:
      - "dependencies"
      - "python"
      - "adapters"
    groups:
      pip-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"

  # Monitor npm dependencies in React UI
  - package-ecosystem: "npm"
    directory: "/ui"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 5
    labels:
      - "dependencies"
      - "javascript"
    groups:
      npm-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"

  # Monitor Docker image updates in docker-compose
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 5
    labels:
      - "dependencies"
      - "docker"
    groups:
      docker-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"

  # Monitor GitHub Actions
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 5
    labels:
      - "dependencies"
      - "github-actions"
    groups:
      github-actions-minor-patch:
        patterns:
          - "*"
        update-types:
          - "minor"
          - "patch"
